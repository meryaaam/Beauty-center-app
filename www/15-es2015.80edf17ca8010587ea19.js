(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{kYtE:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var r=u("pMnS"),o=u("oBZk"),i=u("ZZ/e"),a=u("SVse"),s=u("mrSG"),c=u("iQv9");class b{constructor(l,n,u,t,e){this.activatedRoute=l,this.http=n,this.photoViewer=u,this.navCtrl=t,this.toastCtrl=e}ngOnInit(){this.catTitle=this.activatedRoute.snapshot.paramMap.get("catTitle"),console.log("catTitle",this.catTitle),this.url=`http://localhost:8034/api/auth//product?filter=%7B"where"%3A%20%7B"category"%3A"${this.catTitle}"%7D%7D`,console.log("url",this.url),this.loadData(this.url).subscribe(l=>{console.log("product",l),this.products=l,0===l.length&&this.presentToast("Pas d'article pour cette categorie pour le moment",2e3)})}loadData(l){return this.http.get(l)}doRefresh(l){this.loadData(this.url).subscribe(n=>{console.log("product \xe0 partir de doRefresh",n),this.products=n,l.target.complete()})}showImage(l,n,u){u.stopPropagation(),this.photoViewer.show(`http://192.168.8.101:3000/api/Containers/photos/download/${l}`,n,{share:!0})}showDetails(l){this.navCtrl.navigateForward("/product-detail/"+l)}presentToast(l,n){return s.b(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:l,duration:n})).present()}))}}var h=u("iInd"),p=u("IheW"),f=t.qb({encapsulation:0,styles:[[""]],data:{}});function m(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"ion-icon",[["class","iconStar"],["name","star"]],null,null,null,o.eb,o.r)),t.rb(2,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"star")}),null)}function g(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"ion-icon",[["class","iconStar"],["name","star"]],null,null,null,o.eb,o.r)),t.rb(2,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"star")}),null)}function d(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"ion-icon",[["class","iconStar"],["name","star"]],null,null,null,o.eb,o.r)),t.rb(2,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"star")}),null)}function x(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"ion-icon",[["class","iconStar"],["name","star"]],null,null,null,o.eb,o.r)),t.rb(2,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"star")}),null)}function k(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"ion-icon",[["class","iconStar"],["name","star"]],null,null,null,o.eb,o.r)),t.rb(2,49152,null,0,i.D,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"star")}),null)}function v(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,23,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.showDetails(l.context.$implicit.id)&&t),t}),o.ib,o.u)),t.rb(1,49152,null,0,i.I,[t.h,t.k,t.x],{button:[0,"button"]},null),(l()(),t.sb(2,0,null,0,3,"ion-thumbnail",[["slot","start"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.showImage(l.context.$implicit.img[0],l.context.$implicit.name,u)&&t),t}),o.xb,o.K)),t.rb(3,49152,null,0,i.Ab,[t.h,t.k,t.x],null,null),(l()(),t.sb(4,0,null,0,1,"ion-img",[],null,null,null,o.fb,o.s)),t.rb(5,49152,null,0,i.E,[t.h,t.k,t.x],{src:[0,"src"]},null),(l()(),t.sb(6,0,null,0,17,"div",[["class","my-container-label"]],null,null,null,null,null)),(l()(),t.sb(7,0,null,null,2,"ion-label",[["class","my-label-title"]],null,null,null,o.jb,o.w)),t.rb(8,49152,null,0,i.O,[t.h,t.k,t.x],null,null),(l()(),t.Kb(9,0,["",""])),(l()(),t.sb(10,0,null,null,13,"div",[["class","span-container"]],null,null,null,null,null)),(l()(),t.sb(11,0,null,null,2,"span",[["class","price"]],null,null,null,null,null)),(l()(),t.Kb(12,null,[" ",""])),t.Gb(13,1),(l()(),t.hb(16777216,null,null,1,null,m)),t.rb(15,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,g)),t.rb(17,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,d)),t.rb(19,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,x)),t.rb(21,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,k)),t.rb(23,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,""),l(n,5,0,"http://192.168.43.73:3000/api/Containers/photos/download/"+n.context.$implicit.img[0]),l(n,15,0,n.context.$implicit.averageStar>=1),l(n,17,0,n.context.$implicit.averageStar>=2),l(n,19,0,n.context.$implicit.averageStar>=3),l(n,21,0,n.context.$implicit.averageStar>=4),l(n,23,0,n.context.$implicit.averageStar>=5)}),(function(l,n){l(n,9,0,n.context.$implicit.name);var u=t.Lb(n,12,0,l(n,13,0,t.Eb(n.parent,0),n.context.$implicit.price));l(n,12,0,u)}))}function C(l){return t.Mb(0,[t.Fb(0,a.d,[t.s]),(l()(),t.sb(1,0,null,null,11,"ion-header",[],null,null,null,o.db,o.q)),t.rb(2,49152,null,0,i.C,[t.h,t.k,t.x],null,null),(l()(),t.sb(3,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,o.zb,o.M)),t.rb(4,49152,null,0,i.Db,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.sb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.R,o.e)),t.rb(6,49152,null,0,i.m,[t.h,t.k,t.x],null,null),(l()(),t.sb(7,0,null,0,2,"ion-back-button",[["defaultHref","home"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Eb(l,9).onClick(u)&&e),e}),o.O,o.b)),t.rb(8,49152,null,0,i.h,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.rb(9,16384,null,0,i.i,[[2,i.jb],i.Jb],{defaultHref:[0,"defaultHref"]},null),(l()(),t.sb(10,0,null,0,2,"ion-title",[],null,null,null,o.yb,o.L)),t.rb(11,49152,null,0,i.Bb,[t.h,t.k,t.x],null,null),(l()(),t.Kb(12,0,["Categorie : ",""])),(l()(),t.sb(13,0,null,null,9,"ion-content",[],null,null,null,o.Y,o.l)),t.rb(14,49152,null,0,i.v,[t.h,t.k,t.x],null,null),(l()(),t.sb(15,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,u){var t=!0;return"ionRefresh"===n&&(t=!1!==l.component.doRefresh(u)&&t),t}),o.pb,o.B)),t.rb(16,49152,null,0,i.eb,[t.h,t.k,t.x],null,null),(l()(),t.sb(17,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Chargement..."]],null,null,null,o.ob,o.C)),t.rb(18,49152,null,0,i.fb,[t.h,t.k,t.x],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(l()(),t.sb(19,0,null,0,3,"ion-list",[],null,null,null,o.kb,o.x)),t.rb(20,49152,null,0,i.P,[t.h,t.k,t.x],null,null),(l()(),t.hb(16777216,null,0,1,null,v)),t.rb(22,278528,null,0,a.k,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,4,0,"primary"),l(n,8,0,"home"),l(n,9,0,"home"),l(n,18,0,"arrow-dropdown","Pull to refresh","circles","Chargement..."),l(n,22,0,u.products)}),(function(l,n){l(n,12,0,n.component.catTitle)}))}function w(l){return t.Mb(0,[(l()(),t.sb(0,0,null,null,1,"app-category",[],null,null,null,C,f)),t.rb(1,114688,null,0,b,[h.a,p.c,c.a,i.Jb,i.Pb],null,null)],(function(l,n){l(n,1,0)}),null)}var I=t.ob("app-category",b,w,{},{},[]),S=u("s7LF");class T{}u.d(n,"CategoryPageModuleNgFactory",(function(){return D}));var D=t.pb(e,[],(function(l){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[r.a,I]],[3,t.j],t.v]),t.Cb(4608,a.n,a.m,[t.s,[2,a.x]]),t.Cb(4608,S.q,S.q,[]),t.Cb(4608,i.c,i.c,[t.x,t.g]),t.Cb(4608,i.Ib,i.Ib,[i.c,t.j,t.p]),t.Cb(4608,i.Lb,i.Lb,[i.c,t.j,t.p]),t.Cb(1073742336,a.c,a.c,[]),t.Cb(1073742336,S.p,S.p,[]),t.Cb(1073742336,S.d,S.d,[]),t.Cb(1073742336,i.Fb,i.Fb,[]),t.Cb(1073742336,h.p,h.p,[[2,h.u],[2,h.m]]),t.Cb(1073742336,T,T,[]),t.Cb(1073742336,e,e,[]),t.Cb(1024,h.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);